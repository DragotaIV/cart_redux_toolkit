{"version":3,"sources":["icons.js","feautures/cart/cartSlice.js","cartItems.js","components/CartItem.js","feautures/modal/modalSlice.js","components/CartContainer.js","components/Modal.js","NavBar.js","App.js","store.js","index.js"],"names":["CartIcon","xmlns","className","fill","viewBox","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","ChevronDown","ChevronUp","initialState","cartItems","id","title","price","img","amount","total","isLoading","getCartItems","createAsyncThunk","name","thunkAPI","a","axios","resp","data","rejectWithValue","cartSlice","createSlice","reducers","clearCart","state","removeItem","action","itemId","payload","filter","item","increase","find","decrease","calculateTotals","forEach","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","CartItem","dispatch","useDispatch","src","alt","type","onClick","modalSlice","isOpen","openModal","closeModal","CartContainer","useSelector","store","cart","map","toFixed","Modal","NavBar","App","modal","useEffect","configureStore","reducer","cartReducer","modalReducer","container","document","getElementById","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.d2b7ecaa.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CartIcon = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"h-6 w-6\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\n      />\n    </svg>\n  );\n};\n\nexport const ChevronDown = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"h-6 w-6\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M19 9l-7 7-7-7\" />\n    </svg>\n  );\n};\n\nexport const ChevronUp = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"h-6 w-6\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n    >\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 15l7-7 7 7\" />\n    </svg>\n  );\n};\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport cartItems from '../../cartItems';\n\nconst url = 'https://course-api.com/react-useReducer-cart-project';\n\nconst initialState = {\n  cartItems,\n  amount: 4,\n  total: 0,\n  isLoading: true,\n};\n\nexport const getCartItems = createAsyncThunk('cart/getCartItems', async (name, thunkAPI) => {\n  try {\n    // console.log(name);\n    // console.log(thunkAPI);\n    // console.log(thunkAPI.getState());\n    // thunkAPI.dispatch(openModal());\n    const resp = await axios(url);\n\n    return resp.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue('something went wrong');\n  }\n});\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    clearCart: (state) => {\n      state.cartItems = [];\n    },\n    removeItem: (state, action) => {\n      const itemId = action.payload;\n\n      state.cartItems = state.cartItems.filter((item) => item.id !== itemId);\n    },\n\n    increase: (state, { payload }) => {\n      const cartItem = state.cartItems.find((item) => item.id === payload.id);\n\n      cartItem.amount += 1;\n    },\n\n    decrease: (state, { payload }) => {\n      const cartItem = state.cartItems.find((item) => item.id === payload.id);\n\n      cartItem.amount -= 1;\n    },\n\n    calculateTotals: (state) => {\n      let amount = 0;\n      let total = 0;\n\n      state.cartItems.forEach((item) => {\n        amount += item.amount;\n        total += item.amount * item.price;\n      });\n      state.amount = amount;\n      state.total = total;\n    },\n  },\n\n  extraReducers: (builder) => {\n    builder.addCase(getCartItems.pending, (state) => {\n      state.isLoading = true;\n    }).addCase(getCartItems.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.cartItems = action.payload;\n    }).addCase(getCartItems.rejected, (state) => {\n      state.isLoading = false;\n    });\n  },\n});\n\nexport const {\n  clearCart, removeItem, increase, decrease, calculateTotals,\n} = cartSlice.actions;\n\nexport default cartSlice.reducer;\n","const cartItems = [\n  {\n    id: 'rec1JZlfCIBOPdcT2',\n    title: 'Samsung Galaxy S8',\n    price: '399.99',\n    img: 'https://images2.imgbox.com/c2/14/zedmXgs6_o.png',\n    amount: 1,\n  },\n  {\n    id: 'recB6qcHPxb62YJ75',\n    title: 'google pixel',\n    price: '499.99',\n    img: 'https://images2.imgbox.com/fb/3d/O4TPmhlt_o.png',\n    amount: 1,\n  },\n  {\n    id: 'recdRxBsE14Rr2VuJ',\n    title: 'Xiaomi Redmi Note 2',\n    price: '699.99',\n    img: 'https://images2.imgbox.com/4f/3d/WN3GvciF_o.png',\n    amount: 1,\n  },\n  {\n    id: 'recwTo160XST3PIoW',\n    title: 'Samsung Galaxy S7',\n    price: '599.99 ',\n    img: 'https://images2.imgbox.com/2e/7c/yFsJ4Zkb_o.png',\n    amount: 1,\n  },\n];\n\nexport default cartItems;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { ChevronUp, ChevronDown } from '../icons';\nimport { removeItem, increase, decrease } from '../feautures/cart/cartSlice';\n\nexport const CartItem = ({\n  id, title, price, img, amount,\n}) => {\n  const dispatch = useDispatch();\n\n  return (\n    <article className=\"cart-item\">\n      <div>\n        <img src={img} alt={title} />\n      </div>\n\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">\n          $\n          {price}\n        </h4>\n        <button\n          type=\"button\"\n          className=\"remove-btn\"\n          onClick={() => dispatch(removeItem(id))}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        <button\n          type=\"button\"\n          className=\"amount-btn\"\n          onClick={() => dispatch(increase({ id }))}\n        >\n          <ChevronUp />\n        </button>\n        <p className=\"amount\">{amount}</p>\n        <button\n          type=\"button\"\n          className=\"amount-btn\"\n          onClick={() => {\n            if (amount === 1) {\n              dispatch(removeItem(id));\n\n              return;\n            }\n\n            dispatch(decrease({ id }));\n          }}\n        >\n          <ChevronDown />\n        </button>\n      </div>\n    </article>\n  );\n};\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  isOpen: false,\n};\n\nconst modalSlice = createSlice({\n  name: 'modal',\n  initialState,\n  reducers: {\n    openModal: (state) => {\n      state.isOpen = true;\n    },\n\n    closeModal: (state) => {\n      state.isOpen = false;\n    },\n  },\n});\n\nexport const { openModal, closeModal } = modalSlice.actions;\n\nexport default modalSlice.reducer;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CartItem } from './CartItem';\nimport { openModal } from '../feautures/modal/modalSlice';\n\nexport const CartContainer = () => {\n  const dispatch = useDispatch();\n\n  const { cartItems, total, amount } = useSelector((store) => store.cart);\n\n  if (amount < 1) {\n    return (\n      <section className=\"cart\">\n        <header>\n          <h2>your bag</h2>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"cart\">\n      { /* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      <div>\n        {cartItems.map((item) => {\n          return (\n            <CartItem key={item.id} {...item} />\n          );\n        })}\n      </div>\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total\n            <span>\n              $\n              {total.toFixed(2)}\n            </span>\n          </h4>\n        </div>\n        <button\n          type=\"button\"\n          className=\"btn clear-btn\"\n          onClick={() => dispatch(openModal())}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { clearCart } from '../feautures/cart/cartSlice';\nimport { closeModal } from '../feautures/modal/modalSlice';\n\nexport const Modal = () => {\n  const dispatch = useDispatch();\n\n  return (\n    <aside className=\"modal-container\">\n      <div className=\"modal\">\n        <h4> remove all items from your shopping cart?</h4>\n        <div className=\"btn-container\">\n          <button\n            type=\"button\"\n            className=\"btn confirm-btn\"\n            onClick={() => {\n              dispatch(clearCart());\n              dispatch(closeModal());\n            }}\n          >\n            confirm\n          </button>\n          <button\n            type=\"button\"\n            className=\"btn clear-btn\"\n            onClick={() => {\n              dispatch(closeModal());\n            }}\n          >\n            cansel\n          </button>\n        </div>\n      </div>\n    </aside>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { CartIcon } from './icons';\n\nexport const NavBar = () => {\n  const { amount } = useSelector((store) => store.cart);\n\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>redux-toolkit</h3>\n        <div className=\"nav-container\">\n          <CartIcon />\n\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { CartContainer } from './components/CartContainer';\nimport { Modal } from './components/Modal';\nimport './index.css';\nimport { NavBar } from './NavBar';\nimport { calculateTotals, getCartItems } from './feautures/cart/cartSlice';\n\nfunction App() {\n  const { cartItems, isLoading } = useSelector((store) => store.cart);\n  const { isOpen } = useSelector((store) => store.modal);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(calculateTotals());\n  }, [cartItems]);\n\n  useEffect(() => {\n    dispatch(getCartItems());\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {isOpen && <Modal />}\n      <NavBar />\n      <CartContainer />\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport cartReducer from './feautures/cart/cartSlice';\nimport modalReducer from './feautures/modal/modalSlice';\n\nexport const store = configureStore({\n  reducer: {\n    cart: cartReducer,\n    modal: modalReducer,\n  },\n});\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './store';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\n\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n);\n"],"sourceRoot":""}