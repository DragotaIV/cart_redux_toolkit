(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{24:function(t,e,c){},46:function(t,e,c){"use strict";c.r(e);var n=c(2),r=c.n(n),a=c(25),s=(c(24),c(5)),i=c(12),o=c(1),l=function(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})},u=function(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})},d=function(){return Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:Object(o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})})},j=c(21),b=c.n(j),m=c(28),h=c(8),O=c(48),x={cartItems:[{id:"rec1JZlfCIBOPdcT2",title:"Samsung Galaxy S8",price:"399.99",img:"https://images2.imgbox.com/c2/14/zedmXgs6_o.png",amount:1},{id:"recB6qcHPxb62YJ75",title:"google pixel",price:"499.99",img:"https://images2.imgbox.com/fb/3d/O4TPmhlt_o.png",amount:1},{id:"recdRxBsE14Rr2VuJ",title:"Xiaomi Redmi Note 2",price:"699.99",img:"https://images2.imgbox.com/4f/3d/WN3GvciF_o.png",amount:1},{id:"recwTo160XST3PIoW",title:"Samsung Galaxy S7",price:"599.99 ",img:"https://images2.imgbox.com/2e/7c/yFsJ4Zkb_o.png",amount:1}],amount:4,total:0,isLoading:!0},p=Object(h.b)("cart/getCartItems",function(){var t=Object(m.a)(b.a.mark((function t(e,c){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(O.a)("https://course-api.com/react-useReducer-cart-project");case 3:return n=t.sent,t.abrupt("return",n.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",c.rejectWithValue("something went wrong"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,c){return t.apply(this,arguments)}}()),f=Object(h.c)({name:"cart",initialState:x,reducers:{clearCart:function(t){t.cartItems=[]},removeItem:function(t,e){var c=e.payload;t.cartItems=t.cartItems.filter((function(t){return t.id!==c}))},increase:function(t,e){var c=e.payload;t.cartItems.find((function(t){return t.id===c.id})).amount+=1},decrease:function(t,e){var c=e.payload;t.cartItems.find((function(t){return t.id===c.id})).amount-=1},calculateTotals:function(t){var e=0,c=0;t.cartItems.forEach((function(t){e+=t.amount,c+=t.amount*t.price})),t.amount=e,t.total=c}},extraReducers:function(t){t.addCase(p.pending,(function(t){t.isLoading=!0})).addCase(p.fulfilled,(function(t,e){t.isLoading=!1,t.cartItems=e.payload})).addCase(p.rejected,(function(t){t.isLoading=!1}))}}),g=f.actions,v=g.clearCart,N=g.removeItem,k=g.increase,w=g.decrease,y=g.calculateTotals,C=f.reducer,I=function(t){var e=t.id,c=t.title,n=t.price,r=t.img,a=t.amount,i=Object(s.b)();return Object(o.jsxs)("article",{className:"cart-item",children:[Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:r,alt:c})}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:c}),Object(o.jsxs)("h4",{className:"item-price",children:["$",n]}),Object(o.jsx)("button",{type:"button",className:"remove-btn",onClick:function(){return i(N(e))},children:"remove"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{type:"button",className:"amount-btn",onClick:function(){return i(k({id:e}))},children:Object(o.jsx)(d,{})}),Object(o.jsx)("p",{className:"amount",children:a}),Object(o.jsx)("button",{type:"button",className:"amount-btn",onClick:function(){i(1!==a?w({id:e}):N(e))},children:Object(o.jsx)(u,{})})]})]})},L=Object(h.c)({name:"modal",initialState:{isOpen:!1},reducers:{openModal:function(t){t.isOpen=!0},closeModal:function(t){t.isOpen=!1}}}),M=L.actions,S=M.openModal,B=M.closeModal,J=L.reducer,R=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.cart})),c=e.cartItems,n=e.total;return e.amount<1?Object(o.jsx)("section",{className:"cart",children:Object(o.jsxs)("header",{children:[Object(o.jsx)("h2",{children:"your bag"}),Object(o.jsx)("h4",{className:"empty-cart",children:"is currently empty"})]})}):Object(o.jsxs)("section",{className:"cart",children:[Object(o.jsx)("header",{children:Object(o.jsx)("h2",{children:"your bag"})}),Object(o.jsx)("div",{children:c.map((function(t){return Object(o.jsx)(I,Object(i.a)({},t),t.id)}))}),Object(o.jsxs)("footer",{children:[Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"cart-total",children:Object(o.jsxs)("h4",{children:["total",Object(o.jsxs)("span",{children:["$",n.toFixed(2)]})]})}),Object(o.jsx)("button",{type:"button",className:"btn clear-btn",onClick:function(){return t(S())},children:"clear cart"})]})]})},T=function(){var t=Object(s.b)();return Object(o.jsx)("aside",{className:"modal-container",children:Object(o.jsxs)("div",{className:"modal",children:[Object(o.jsx)("h4",{children:" remove all items from your shopping cart?"}),Object(o.jsxs)("div",{className:"btn-container",children:[Object(o.jsx)("button",{type:"button",className:"btn confirm-btn",onClick:function(){t(v()),t(B())},children:"confirm"}),Object(o.jsx)("button",{type:"button",className:"btn clear-btn",onClick:function(){t(B())},children:"cansel"})]})]})})},W=function(){var t=Object(s.c)((function(t){return t.cart})).amount;return Object(o.jsx)("nav",{children:Object(o.jsxs)("div",{className:"nav-center",children:[Object(o.jsx)("h3",{children:"redux-toolkit"}),Object(o.jsxs)("div",{className:"nav-container",children:[Object(o.jsx)(l,{}),Object(o.jsx)("div",{className:"amount-container",children:Object(o.jsx)("p",{className:"total-amount",children:t})})]})]})})};var E=function(){var t=Object(s.c)((function(t){return t.cart})),e=t.cartItems,c=t.isLoading,r=Object(s.c)((function(t){return t.modal})).isOpen,a=Object(s.b)();return Object(n.useEffect)((function(){a(y())}),[e]),Object(n.useEffect)((function(){a(p())}),[]),c?Object(o.jsx)("div",{className:"loading",children:Object(o.jsx)("h1",{children:"Loading..."})}):Object(o.jsxs)(o.Fragment,{children:[r&&Object(o.jsx)(T,{}),Object(o.jsx)(W,{}),Object(o.jsx)(R,{})]})},F=Object(h.a)({reducer:{cart:C,modal:J}}),P=document.getElementById("root");Object(a.createRoot)(P).render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(s.a,{store:F,children:Object(o.jsx)(E,{})})}))}},[[46,1,2]]]);
//# sourceMappingURL=main.d2b7ecaa.chunk.js.map